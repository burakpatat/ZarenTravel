@inject Microsoft.Extensions.Localization.IStringLocalizer<Index> L
@using System.Globalization;
@page "/account-travelers"
<main>
	<section class="pt-3">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-xl-3">
					<!-- Responsive offcanvas body START -->
					<div class="offcanvas-lg offcanvas-end" tabindex="-1" id="offcanvasSidebar">
						<!-- Offcanvas header -->
						<div class="offcanvas-header justify-content-end pb-2">
							<button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#offcanvasSidebar" aria-label="Close"></button>
						</div>

						<!-- Offcanvas body -->
						<div class="offcanvas-body p-3 p-lg-0">
							<div class="card bg-light w-100">

								<!-- Edit profile button -->
								<div class="position-absolute top-0 end-0 p-3">
									<i class="bi bi-pencil-square"></i>
								</div>
								<!-- Card body START -->
								<div class="card-body p-3">
									<!-- Avatar and content -->
									<div class="text-center mb-3">
										<div class="avatar avatar-xl mb-2">
											<img class="avatar-img rounded-circle border border-2 border-white" src="@user.ProfilePhoto" alt="">
										</div>
										<h6 class="mb-0">@user.FullName</h6>
										<a href="#" class="text-reset text-primary-hover small">@user.Email</a>
										<hr>
									</div>
									<ul class="nav nav-pills-primary-soft flex-column">
										<li class="nav-item">
											<a class="nav-link" href="account-profile"><i class="bi bi-person fa-fw me-2"></i><span data-i18="account.profile.myprofile"></span></a>
										</li>
										<li class="nav-item">
											<a class="nav-link" href="account-bookings"><i class="bi bi-ticket-perforated fa-fw me-2"></i><span data-i18="account.profile.mybookings"></span></a>
										</li>
									
										<li class="nav-item">
											<a class="nav-link" href="account-payment-details"><i class="bi bi-wallet fa-fw me-2"></i><span data-i18="account.profile.payment.details"></span></a>
										</li>
										<li class="nav-item">
											<a class="nav-link" href="account-wishlist"><i class="bi bi-heart fa-fw me-2"></i><span data-i18="account.profile.wishlist"></span></a>
										</li>
										<li class="nav-item">
											<a class="nav-link" href="account-settings"><i class="bi bi-gear fa-fw me-2"></i><span data-i18="account.profile.settings"></span></a>
										</li>
										<li class="nav-item">
											<a class="nav-link text-danger bg-danger-soft-hover" href="account/logout"><i class="fas fa-sign-out-alt fa-fw me-2"></i><span data-i18="account.profile.signout"></span></a>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Sidebar END -->
				<!-- Main content START -->
				<div class="col-lg-8 col-xl-9">

					<!-- Offcanvas menu button -->
					<div class="d-grid mb-0 d-lg-none w-100">
						<button class="btn btn-primary mb-4" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
							<i class="fas fa-sliders-h"></i> Menu
						</button>
					</div>

					<!-- Wishlist START -->
					<div class="card border">
						<!-- Card header -->
						<div class="card-header border-bottom">
							<h4 class="card-header-title">Travelers Detail</h4>
						</div>

						<!-- Card body START -->
						<div class="card-body vstack gap-4">
							<!-- Traveler item START -->
							<div class="card">
								<!-- Card header -->
								<div class="card-header d-flex justify-content-between align-items-center p-0">
									<!-- Avatar -->
									<div class="d-flex align-items-center">
										<!-- Avatar -->
										<div class="avatar avatar-sm">
											<img class="avatar-img rounded-circle" src="assets/images/avatar/09.jpg" alt="avatar">
										</div>
										<!-- Info -->
										<div class="ms-2">
											<h6 class="mb-0">Lori Stevens</h6>
										</div>
									</div>

									<!-- Button -->
									<a href="#" class="btn btn-sm btn-link p-0 mb-0">Remove</a>
								</div>

								<!-- card body -->
								<form class="card-body p-0 pt-3">
									<!-- Name -->
									<div class="mb-3">
										<label class="form-label">Full name</label>
										<div class="input-group">
											<input type="text" class="form-control" value="Lori" placeholder="First name">
											<input type="text" class="form-control" value="Stevens" placeholder="Last name">
										</div>
									</div>

									<!-- Birth day -->
									<div>
										<label class="form-label">Date of Birth</label>
										<input type="text" class="form-control flatpickr" value="29 Aug 1996" placeholder="Enter date of birth" data-date-format="d M Y">
									</div>
								</form>
							</div>
							<!-- Traveler item END -->

							<hr> <!-- Divider -->
							<!-- Traveler item START -->
							<div class="card">
								<!-- Card header -->
								<div class="card-header d-flex justify-content-between align-items-center p-0">
									<!-- Avatar -->
									<div class="d-flex align-items-center">
										<!-- Avatar -->
										<div class="avatar avatar-sm">
											<img class="avatar-img rounded-circle" src="assets/images/avatar/01.jpg" alt="avatar">
										</div>
										<!-- Info -->
										<div class="ms-2">
											<h6 class="mb-0">Jacqueline Miller</h6>
										</div>
									</div>

									<!-- Button -->
									<a href="#" class="btn btn-sm btn-link p-0 mb-0">Remove</a>
								</div>

								<!-- card body -->
								<form class="card-body p-0 pt-3">
									<!-- Name -->
									<div class="mb-3">
										<label class="form-label">Full name</label>
										<div class="input-group">
											<input type="text" class="form-control" value="Jacqueline" placeholder="First name">
											<input type="text" class="form-control" value="Miller" placeholder="Last name">
										</div>
									</div>

									<!-- Birth day -->
									<div class="">
										<label class="form-label">Date of Birth</label>
										<input type="text" class="form-control flatpickr" value="15 May 1994" placeholder="Enter date of birth" data-date-format="d M Y">
									</div>
								</form>
							</div>
							<!-- Traveler item END -->
							<!-- Button -->
							<div class="text-end">
								<button class="btn btn-primary mb-0" type="button" data-bs-toggle="modal" data-bs-target="#inquiryForm">
									<i class="bi bi-plus-lg"></i> Add New Traveler
								</button>
							</div>
						</div>
						<!-- Card body END -->
					</div>
					<!-- Wishlist END -->

				</div>
				<!-- Main content END -->
			</div>
		</div>
	</section>
	<!-- =======================
	Content END -->

</main>
 
@code {

	protected AspNetUsers user;
	protected bool isBusy;
	protected bool errorVisible;
	protected string error;
	protected string countryName;
	[Inject]
	protected NavigationManager NavigationManager{ get; set; }
	[Inject]
	protected SecurityService Security { get; set; }
	[Inject]
	protected CountryRepository CountryRepository { get; set; }


	enum Gender
	{
		Mr = 1,
		Mrs = 2,
		Others = 3
	};

	protected override void OnAfterRender(bool firstRender)
	{
		if (Security.IsAuthenticated())
		{
			base.OnAfterRender(firstRender);
		}
		else
		{
			NavigationManager.NavigateTo("/login", true);
		}
	}

	protected override void OnInitialized()
	{
		user = Security.Current();
		base.OnInitialized();

	}
    
}
