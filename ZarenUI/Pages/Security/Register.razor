@page "/register"@using ZarenUI.Models;@attribute [Authorize]@inject IJSRuntime JSRuntime@inject NavigationManager NavigationManager@inject DialogService DialogService@inject ContextMenuService ContextMenuService@inject TooltipService TooltipService@inject NotificationService NotificationService@inject Microsoft.Extensions.Localization.IStringLocalizer<Index> L<PageTitle>Register Application User</PageTitle><main>    <section class="vh-xxl-100">        <div class="container h-100 d-flex px-0 px-sm-4">            <div class="row justify-content-center align-items-center m-auto">                <div class="col-12">                    <div class="bg-mode shadow rounded-3 overflow-hidden">                        <div class="row g-0">                            <div class="col-lg-6 d-md-flex align-items-center order-2 order-lg-1">                                <div class="p-3 p-lg-5">                                    <img src="assets/images/element/forgot-pass.svg" alt="">                                </div>                                <!-- Divider -->                                <div class="vr opacity-1 d-none d-lg-block"></div>                            </div>                            <!-- Information -->                            <div class="col-lg-6 order-1">                                <div class="p-4 p-sm-6">                                    <!-- Logo -->                                    <a href="/">                                        <img class="h-50px mb-4" src="/images/brand-primary-logo.png" alt="logo">                                    </a>                                    <!-- Title -->                                    <h1 class="mb-2 h3" data-i18="register.CreateNewAccount"></h1>                                    <div class="row">                                        <p class="mb-0 col-md-5" data-i18="register.member"></p>                                        <a href="/sign-in" class="btn btn-warning btn-sm col-md-4" data-i18="register.a.login"></a>                                    </div>                                    <form class="mt-4 text-start" Action="@($"account/register")" Method="post">                                        <div class="alert alert-danger" style="visibility:@resulterror;">@error</div>                                        <!-- Email -->                                        <div class="mb-3">                                            <label class="form-label" data-i18="register.Email">email</label>                                            <input type="email" class="form-control" @bind="user.Email" Name="UserName" required>                                        </div>                                        <!-- Password -->                                        <div class="mb-3 position-relative">                                            <label class="form-label" data-i18="register.Password"></label>                                            <input class="form-control fakepassword" type="password" id="psw-input" @bind="user.Password" Name="Password" required>                                            <span class="position-absolute top-50 end-0 translate-middle-y p-0 mt-3">                                                <i class="fakepasswordicon fas fa-eye-slash cursor-pointer p-2"></i>                                            </span>                                        </div>                                        <!-- Confirm Password -->                                        <div class="mb-3">                                            <label class="form-label" data-i18="register.ConfirmPassword"></label>                                            <input type="password" class="form-control" @bind="user.ConfirmPassword" Name="Password" id="psw-input" required>                                        </div>                                        <!-- Button -->                                        <div>                                            <button type="submit" class="btn btn-primary w-100 mb-0" data-i18="register.Register"></button>                                        </div>                                        <br />                                        <a type="button" href="login" class="btn btn-primary w-100 mb-0" data-i18="register.Cancel"></a>                                    </form>                                        <!-- Divider -->                                        <div class="position-relative my-4">                                            <hr>                                            <p class="small position-absolute top-50 start-50 translate-middle bg-mode px-1 px-sm-2" data-i18="register.p.withsign"></p>                                        </div>                                    <form class="vstack gap-3" action="@($"account/googlelogin?{redirectUrl}")" method="post">                                            <button type="submit" class="btn btn-light mb-0"><i class="fab fa-fw fa-google text-google-icon me-2"></i><span data-i18="register.with.registergoogle"></span></button>                                        </form>                                        <br />                                    <form class="vstack gap-3" action="@($"account/facebooklogin?{redirectUrl}")" method="post">                                        <button type="submit" class="btn btn-light mb-0 btnfacebook"><i class="fab fa-fw fa-facebook-f text-facebook me-2"></i><span data-i18="register.with.registerfacebook"></span></button>                                    </form>                                        <div class="text-primary-hover mt-3 text-center">Copyrights ©@DateTime.Now.Year Zaren Travel</div>                                                                  </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </section></main><style>    header {        display: none !important    }    footer {        display: none !important    }    .register .rz-textbox {        display: block;        width: 100%;        padding: 0.5rem 1rem;        font-size: 1rem;        font-weight: 400;        line-height: 1.5;        color: #000000;        background-clip: padding-box;        border: 1px solid var(--bs-gray-300);        -webkit-appearance: none;        -moz-appearance: none;        appearance: none;        border-radius: 0.5rem;        -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;        transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;    }    .register button {        width: 100%;        padding: 0.5rem 1rem;        --bs-btn-padding-y: 1rem;        --bs-btn-font-family:;        --bs-btn-font-size: 1rem;        --bs-btn-font-weight: 700;        --bs-btn-line-height: 1.5;        --bs-btn-color: #747579;        --bs-btn-bg: transparent;        --bs-btn-border-width: 5px;        --bs-btn-border-color: transparent;        --bs-btn-border-radius: 0.5rem;        --bs-btn-hover-border-color: transparent;        --bs-btn-box-shadow: none;        --bs-btn-disabled-opacity: 0.65;        --bs-btn-focus-box-shadow: 0 0 0 0 rgba(var(--bs-btn-focus-shadow-rgb), .5);        display: inline-block;        padding: var(--bs-btn-padding-y) var(--bs-btn-padding-x);        font-family: var(--bs-btn-font-family);        font-size: var(--bs-btn-font-size);        font-weight: var(--bs-btn-font-weight);        line-height: var(--bs-btn-line-height);        color: var(--bs-btn-color);        text-align: center;        vertical-align: middle;        cursor: pointer;        -webkit-user-select: none;        -moz-user-select: none;        -ms-user-select: none;        user-select: none;        border: var(--bs-btn-border-width) solid var(--bs-btn-border-color);        border-radius: var(--bs-btn-border-radius);        background-color: var(--bs-btn-bg);        -webkit-transition: all 0.3s ease-in-out;        transition: all 0.3s ease-in-out;    }    .register button {        --bs-btn-color: #fff;        --bs-btn-bg: #5143d9;        --bs-btn-border-color: #5143d9;        --bs-btn-hover-color: #fff;        --bs-btn-hover-bg: #4539b8;        --bs-btn-hover-border-color: #4136ae;        --bs-btn-focus-shadow-rgb: 107, 95, 223;        --bs-btn-active-color: #fff;        --bs-btn-active-bg: #4136ae;        --bs-btn-active-border-color: #3d32a3;        --bs-btn-active-shadow: none;        --bs-btn-disabled-color: #fff;        --bs-btn-disabled-bg: #5143d9;        --bs-btn-disabled-border-color: #5143d9;    }</style>@code {
    protected ApplicationUser user;
    protected IEnumerable<string> userRoles = Enumerable.Empty<string>();
    protected string error;
    protected string resulterror;
    protected bool errorVisible;
    protected bool isBusy;
      protected string redirectUrl;
    [Inject]
    protected SecurityService Security { get; set; }

    protected override async Task OnInitializedAsync()
    {
        user = new ApplicationUser();
        var query = System.Web.HttpUtility.ParseQueryString(new Uri(NavigationManager.ToAbsoluteUri(NavigationManager.Uri).ToString()).Query);
        redirectUrl = query.Get("redirectUrl");
        error = query.Get("error");
        errorVisible = !string.IsNullOrEmpty(error);
        if (errorVisible == false)
        {
            resulterror = "hidden;position:absolute;";
        }
        else
        {
            resulterror = "visible;";
        }
    }}