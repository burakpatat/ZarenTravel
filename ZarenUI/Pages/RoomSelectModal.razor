@inject Microsoft.Extensions.Localization.IStringLocalizer<Index> L@inject DialogService DialogService@page "/roomselect/{roomId}/{offerId}"@using System.Globalization; @using Microsoft.AspNetCore.WebUtilities; <main>     <!-- =======================    Image gallery START --> @*   @if (OfferDetails != null)
    {
        var firstImage = "";
        var imgList = OfferDetails;
        if (imgList.FirstOrDefault() != null)
            firstImage = imgList.FirstOrDefault().urlFull;

        var remainingList = imgList.Skip(1);        <section class="card-grid pt-0">            <div class="container">                <div class="row g-2">                    <!-- Image -->                    <div class="col-md-6">                        <a data-glightbox data-gallery="gallery" href="@firstImage">                            <div class="card card-grid-lg card-element-hover card-overlay-hover overflow-hidden" style="background-image:url(@firstImage); background-position: center left; background-size: cover;">                                <!-- Card hover element -->                                <div class="hover-element position-absolute w-100 h-100">                                    <i class="bi bi-fullscreen fs-6 text-white position-absolute top-50 start-50 translate-middle bg-dark rounded-1 p-2 lh-1"></i>                                </div>                            </div>                        </a>                    </div>                    <div class="col-md-6">                        <div class="row g-2">                            @{                                var i = 0;
                                foreach (var item in remainingList.Take(4))
                                {

                                    if (i == 3)
                                    {                                        <div class="col-md-6">                                            <div class="card card-grid-sm overflow-hidden" style="background-image:url(@item.urlFull); background-position: center left; background-size: cover;">                                                <div class="bg-overlay bg-dark opacity-7"></div>                                                @foreach (var itemImg in imgList)
                                                {                                                    <a data-glightbox="" data-gallery="gallery" href="@itemImg.urlFull" class="stretched-link z-index-9"></a>                                                }                                                <div class="card-img-overlay d-flex h-100 w-100">                                                    <h6 class="card-title m-auto fw-light text-decoration-underline"><a href="#" class="text-white"><span data-i18="hoteldetail.viewall"></span></a></h6>                                                </div>                                            </div>                                        </div>                                    }
                                    else
                                    {                                        <div class="col-6">                                            <a data-glightbox data-gallery="gallery" href="@item.urlFull">                                                <div class="card card-grid-sm card-element-hover card-overlay-hover overflow-hidden" style="background-image:url(@item.urlFull); background-position: center left; background-size: cover;">                                                    <!-- Card hover element -->                                                    <div class="hover-element position-absolute w-100 h-100">                                                        <i class="bi bi-fullscreen fs-6 text-white position-absolute top-50 start-50 translate-middle bg-dark rounded-1 p-2 lh-1"></i>                                                    </div>                                                </div>                                            </a>                                        </div>                                    }
                                    i++;
                                }                            }                        </div>                    </div>                </div>            </div>        </section>    }*@    <!-- =======================    Image gallery END -->    <!-- =======================    About hotel START -->    <section class="pt-0" data-json="@OfferDetails.ToJson()">        <div class="container" data-sticky-container="">            <div class="row g-4 g-xl-5">                <!-- Content START -->                <div class="col-xl-12 order-1">                    <div class="vstack gap-5">                        <!-- About hotel START -->                        <div class="card bg-transparent">                            <!-- Card header -->                            <!-- Card body START -->                            <!-- Card body END -->                        </div>                        <!-- About hotel START -->                        <!-- Amenities START -->                        <div class="card bg-transparent">                            <!-- Card header -->                            <div class="card-header border-bottom bg-transparent px-0 pt-0">                                <h3 class="card-title mb-0">Amenities</h3>                            </div>                            <!-- Card body START -->                            <div class="card-body pt-4 p-0">                                <div class="row g-4">                                    <!-- Activities -->                                    <div class="col-sm-6">                                        <h6><i class="fa-solid fa-biking me-2"></i>Activities</h6>                                        <!-- List -->                                        <ul class="list-group list-group-borderless mt-2 mb-0">                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Swimming pool                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Spa                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Kids' play area                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Gym                                            </li>                                        </ul>                                    </div>                                    <!-- Payment Method -->                                    <div class="col-sm-6">                                        <h6><i class="fa-solid fa-credit-card me-2"></i>Payment Method</h6>                                        <!-- List -->                                        <ul class="list-group list-group-borderless mt-2 mb-0">                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Credit card (Visa, Master card)                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Cash                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Debit Card                                            </li>                                        </ul>                                    </div>                                    <!-- Services -->                                    <div class="col-sm-6">                                        <h6><i class="fa-solid fa-concierge-bell me-2"></i>Services</h6>                                        <!-- List -->                                        <ul class="list-group list-group-borderless mt-2 mb-0">                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Dry cleaning                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Room Service                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Special service                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Waiting Area                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Secrete smoking area                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Concierge                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Laundry facilities                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Ironing Service                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Lift                                            </li>                                        </ul>                                    </div>                                    <!-- Safety & Security -->                                    <div class="col-sm-6">                                        <h6><i class="bi bi-shield-fill-check me-2"></i>Safety &amp; Security</h6>                                        <!-- List -->                                        <ul class="list-group list-group-borderless mt-2 mb-4 mb-sm-5">                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Doctor on Call                                            </li>                                        </ul>                                        <h6><i class="fa-solid fa-volume-up me-2"></i>Staff Language</h6>                                        <!-- List -->                                        <ul class="list-group list-group-borderless mt-2 mb-0">                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>English                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Spanish                                            </li>                                            <li class="list-group-item pb-0">                                                <i class="fa-solid fa-check-circle text-success me-2"></i>Hindi                                            </li>                                        </ul>                                    </div>                                </div>                            </div>                            <!-- Card body END -->                        </div>                        <!-- Amenities END -->                        <!-- Room START -->                        <!-- Room END -->                        <!-- Customer Review START -->                        <!-- Customer Review END -->                        <!-- Hotel Policies START -->                        <!-- Hotel Policies START -->                    </div>                </div>                <!-- Content END -->                <!-- Right side content START -->                <!-- Right side content END -->            </div> <!-- Row END -->        </div>    </section>    <!-- =======================    About hotel END --></main><style>    header{display:none;}
    footer{display:none;}    #blazor-error-ui{        display:none;
    }</style>@code {

    protected string error;
    protected bool errorVisible;
    public List<GetOfferDetails.Offerdetail> OfferDetails;
    [Parameter]
    public string offerId { get; set; }    [Parameter]
    public string roomId { get; set; }



    /// </summary>
    [Inject]
    protected AutoCompletesRepository AutoCompleteService { get; set; }

    [Inject]
    protected NavigationManager NavigationManager { get; set; }

    [Inject]
    protected TokenHelper _tokenHelper { get; set; }



    protected override async Task OnInitializedAsync()
    {


        var token = await _tokenHelper.GetSanTsgTourVisioToken();
        var body= _tokenHelper.GetOfferDetailsById(offerId, token);
        if (body!=null && body.body!=null && body.header.success)
        {
            OfferDetails = body.body.offerDetails.ToList();
        }
        //.Where(a => a.offerId == offerId).FirstOrDefault().hotels.Where(b => b.rooms.Where(c => c.id == roomId).FirstOrDefault() != null

        await base.OnInitializedAsync();
    }

       }